#version: "3.9"

services:
  api:
    build:
      context: .
      dockerfile: Dockerfile
      args:
        APPNAME: ${APPNAME}
        PORT: ${PORT}
    container_name: ${APPNAME}
    ports:
      - "${PORT}:${PORT}"
    #environment:
      #- DB_HOST=${DB_HOST}
      #- DB_PORT=${DB_PORT}
      #- DB_USER=${DB_USER}
      #- DB_PASSWORD=${DB_PASSWORD}
      #- DB_NAME=${DB_NAME}
    #depends_on:
    #  - db

  #db:
  #  image: postgres:16
  #  container_name: ${APPNAME}-db
  #  ports:
  #    - "5432:5432"
  #  environment:
  #    POSTGRES_USER: ${DB_USER}
  #    POSTGRES_PASSWORD: ${DB_PASSWORD}
  #    POSTGRES_DB: ${DB_NAME}
  #  volumes:
  #    - db_data:/var/lib/postgresql/data

#volumes:
#  db_data:
